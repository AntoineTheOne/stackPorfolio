!function(){"use strict";class t{constructor(t){this.element=t,this.options={threshold:.1},this.scrollPosition=0,this.lastScrollPosition=0,this.html=document.documentElement,this.init(),this.initNavMobile()}init(){this.setOptions(),window.addEventListener("scroll",this.onScroll.bind(this))}setOptions(){const t=this.element.getAttribute("data-threshold");t&&(this.options.threshold=parseFloat(t))}onScroll(){this.lastScrollPosition=this.scrollPosition,this.scrollPosition=document.scrollingElement.scrollTop,this.setHeaderState(),this.setDirections()}setHeaderState(){this.scrollPosition>document.scrollingElement.scrollHeight*this.options.threshold&&!this.element.hasAttribute("data-always-show")?this.html.classList.add("header-is-hidden"):this.html.classList.remove("header-is-hidden")}setDirections(){this.scrollPosition>=this.lastScrollPosition?(this.html.classList.add("is-scrolling-down"),this.html.classList.remove("is-scrolling-up")):(this.html.classList.add("is-scrolling-up"),this.html.classList.remove("is-scrolling-down"))}initNavMobile(){this.element.querySelector(".js-toggle").addEventListener("click",this.onToggleNav.bind(this))}onToggleNav(){document.documentElement.classList.toggle("nav-is-active")}}class s{constructor(){this.componentInstances=[],this.componentList={Header:t},this.init()}init(){const t=document.querySelectorAll("[data-component]");for(let s=0;s<t.length;s++){const e=t[s],i=e.dataset.component;if(this.componentList[i]){const t=new this.componentList[i](e);this.componentInstances.push(t)}else console.log(`La composante ${i} n'existe pas`)}}}class e{static load(t){window.iconsPath=window.iconsPath||"",t=t||iconsPath+"assets/icons.svg",fetch(t).then(t=>{if(t.ok)return t.text();throw new Error("Le fichier icons est introuvable.")}).then(t=>{const s=document.createElement("div");s.style.display="none",s.innerHTML=t,document.body.appendChild(s)}).catch(t=>{console.log(`Une erreur est survenur : ${t.message}`)})}}new class{constructor(){this.init()}init(){document.documentElement.classList.add("has-js"),e.load(),new s}}}();
//# sourceMappingURL=main.js.map