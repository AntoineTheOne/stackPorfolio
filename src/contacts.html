{% include '_partials/_header.html' %}

<section class="info-contact">
  <div class="wrapper">
    <h1>Intéressé par mon profil ?</h1>

    <div class="info-cards">
      <div class="card">
        <h4>Voici mon numéro de téléphone</h4>
        <a href="tel:+14383913063">(+1) 438-391-3063</a>
      </div>
      <div class="card">
        <h4>À propos de mon CV?</h4>
        <a href="#" target="_blank">Cliquer ici!</a>
      </div>
      <div class="card">
        <h4>Voici mon courriel :</h4>
        <a href="mailto:antoine.Denis2@outlook.com">
          antoine.Denis2@outlook.com
        </a>
      </div>
      <div class="card">
        <h4>Mes réseaux sociaux:</h4>
        <ul class="sociaux">
          <li>
            <a href="https://github.com/AntoineTheOne" target="_blank">
              <svg class="icon icon--lg github">
                <use href="#icon-github"></use>
              </svg>
            </a>
          </li>
          <li>
            <a
              href="https://www.facebook.com/profile.php?id=61578681270512"
              target="_blank"
            >
              <svg class="icon icon--lg facebook">
                <use href="#icon-facebook"></use>
              </svg>
            </a>
          </li>
          <li>
            <a
              href="https://www.linkedin.com/in/antoine-denis-426119386/"
              target="_blank"
            >
              <svg class="icon icon--lg linkedin">
                <use href="#icon-linkedin"></use>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="contact-form">
  <div class="wrapper">
    <div class="form-container">
      <form action="submit.php" method="POST" novalidate>
        <div class="card">
          <label for="name">Votre nom</label>
          <input
            type="text"
            id="name"
            name="name"
            placeholder="Votre nom"
            required
          />
        </div>

        <div class="card">
          <label for="email">Votre adresse courriel</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="Exemple@courriel.com"
            required
          />
        </div>

        <div class="card">
          <label for="message">Votre message</label>
          <textarea
            id="message"
            name="message"
            placeholder="Votre message"
            required
          ></textarea>
        </div>

        <!-- ✅ Bouton d'envoi -->
        <div class="card">
          <button type="submit" class="button">Envoyer</button>
        </div>
      </form>

      <div class="form-text">
        <h3>En espérant que vous avez apprécié la visite de mon portfolio !</h3>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector("form");
    const messageBox = document.createElement("div");
    messageBox.classList.add("form-message");
    form.appendChild(messageBox);

    form.addEventListener("submit", async (e) => {
      e.preventDefault(); // ❌ empêche le rechargement de page

      const formData = new FormData(form);

      try {
        const response = await fetch("submit.php", {
          method: "POST",
          body: formData,
        });

        const text = await response.text();

        // ✅ Affiche le message retourné par PHP
        messageBox.textContent = text;
        messageBox.style.color = text.includes("✅") ? "limegreen" : "crimson";

        // Optionnel : reset du formulaire
        if (text.includes("✅")) form.reset();
      } catch (error) {
        messageBox.textContent = "❌ Erreur réseau, veuillez réessayer.";
        messageBox.style.color = "crimson";
      }
    });
  });
</script>

{% include '_partials/_footer.html' %}
